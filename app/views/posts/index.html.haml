.wrapper
  = render "/layouts/header"
  .main
    .main-container
      -# postのテンプレート化
      - @posts.each do |post| 
        .post
          .post__top
            .post__top__user-image
            .post__top__user-name
              = post.user.nickname
          .post__main
            .post__main__text
              = post.content
            .post__main__image
          .post__bottom
            .post__bottom__date
              = post.created_at.strftime("%Y.%m.%d %H:%M:%S")
            .post__bottom__reaction
              .post__bottom__reaction__heart
                = link_to root_path do
                  %i.fas.fa-heart 1
              .post__bottom__reaction__thumbs-up
                = link_to root_path do
                  %i.far.fa-thumbs-up 1
              .post__bottom__reaction__comment
                = link_to root_path do
                  %i.far.fa-comment-alt 1
        .comment
          .comment__form
            = form_with(url: "/posts/#{post.id}/comments", model: @comments, local: true) do |f|
              = f.text_field :text, class: "comment__form__field", placeholder: "コメントを入力しよう！"
              = f.submit "送信", class: "comment__form__submit"
          .comment__all
            = link_to "＞ コメント一覧へ", post_path(post.id), class: "comment__all--link"


    .side-container
      -# 最終的にはJSで表示する形にするか検討中
      .form
        = form_with(url: posts_path, model: @posts, local: true) do |f|
          = f.text_field :content, class: "form-field", placeholder: "褒めて欲しい内容を入力しよう！！"
          = f.submit "送信", class: "submit"
      